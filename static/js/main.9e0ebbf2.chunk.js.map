{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/DeleteCardPopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","CurrentUserContext","createContext","Card","props","currentUser","useContext","isOwn","_id","card","owner","isLiked","likes","some","like","src","link","alt","name","onClick","onCardClick","onCardLike","type","aria-label","length","onCardDelete","Main","cards","onEditAvatar","onAddPlace","onEditProfile","avatar","about","map","Footer","PopupWithForm","isOpen","onClose","React","useEffect","handleEscapeClose","event","key","document","addEventListener","removeEventListener","onMouseDown","e","target","classList","contains","action","noValidate","onSubmit","title","children","DeleteCardPopup","onDeleteCard","bind","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","validDescription","setValidDescription","validName","setValidName","valid","setValid","isChange","setIsChange","validMessageName","setValidMessageName","validMessageDescription","setValidMessageDescription","preventDefault","maxLength","minLength","required","id","placeholder","value","onChange","validity","validationMessage","disabled","EditAvatarPopup","onUpdateAvatar","validMessage","setValidMessage","setLink","console","log","AddPlacePopup","validLink","setValidLink","validMessageLink","setValidMessageLink","ImagePopup","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","status","fetch","then","_getResponseData","data","method","body","JSON","stringify","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopup","setIsDeleteCardPopup","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getUserData","catch","error","message","getInitialCards","Provider","switchLike","newCard","newCards","c","setUserData","userData","addCard","url","addAvatar","evt","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9e0ebbf2.chunk.js","sourcesContent":["function Header() {\n  return (\n    <header className=\"header\">\n      <a href=\"https://happymarvin.github.io/mesto/\" className=\"header__logo\"> </a>\n    </header>\n  )\n}\n\nexport default Header","import { createContext} from \"react\";\nexport const CurrentUserContext = createContext()","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card (props) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = currentUser._id === props.card.owner._id || '';\n  const isLiked = props.card.likes.some(like => like._id === currentUser._id) || '';\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n  function onCardLike() {\n    props.onCardLike(props.card, isLiked)\n  }\n  function onDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <li className=\"card\">\n      <div className=\"card__image-wrapper\">\n        <img src={props.card.link} alt={props.card.name} className=\"card__image\" onClick={handleClick}/>\n      </div>\n      <div className=\"card__inner-wrapper\">\n        <h2 className=\"card__title\">{props.card.name}</h2>\n        <div className=\"card__like-wrapper\">\n          <button\n            className={`card__like ${isLiked && 'card__like_active'}`}\n            onClick={onCardLike}\n            type=\"button\"\n            aria-label=\"Лайк\"\n          ></button>\n          <span className=\"card__like-count\">{props.card.likes.length}</span>\n        </div>\n      </div>\n      <button \n        className={`card__delete ${isOwn && 'card__delete_show'}`}\n        type=\"button\"\n        onClick={onDeleteClick}\n        aria-label=\"Удалить карточку\">\n      </button>\n    </li>\n  )\n}\nexport default Card","import { React, useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Card from './Card'\n\nfunction Main ({ cards, onCardLike, onCardDelete, onCardClick, onEditAvatar, onAddPlace, onEditProfile }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <div className=\"main\">\n          <section className=\"profile\">\n            <button className=\"profile__edit-avatar\" onClick={onEditAvatar} >\n              <img src={currentUser.avatar} alt=\"аватар пользопателя\" className=\"profile__avatar\" />\n            </button>\n            <div className=\"profile__info\">\n              <div className=\"profile__name-wrapper\">\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\n                <button className=\"profile__edit\" type=\"button\" aria-label=\"Редактировать профайл\" onClick={onEditProfile} />\n              </div>\n              <p className=\"profile__description\">{currentUser.about}</p>\n            </div>\n            <button className=\"profile__add\" type=\"button\" aria-label=\"Добавить карточку\" onClick={onAddPlace} />\n          </section>\n\n          <section className=\"gallery\">\n            \n            <ul className=\"gallery__list\">\n              {cards.map(card => {\n                return (\n                  <Card\n                    card={card}\n                    onCardClick={onCardClick}\n                    onCardLike={onCardLike}\n                    onCardDelete={onCardDelete}\n                    key={card._id}\n                  />\n                )\n              })}\n            </ul>\n          </section>\n        </div>\n  )\n}\n\nexport default Main","function Footer () {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\nexport default Footer","import React from 'react';\n\nfunction PopupWithForm(props) {\n  const [isOpen, onClose] = [props.isOpen, props.onClose];\n\n  React.useEffect(() => {\n    if (!isOpen) return;\n    const handleEscapeClose = (event) => {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscapeClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose);\n    };\n  }, [isOpen, onClose]);\n\n  return (\n    <section\n      className={`popup popup_${props.name} ${isOpen && 'popup_show'}`}\n      onMouseDown={e => e.target.classList.contains('popup') && onClose()}\n    >\n      <form\n        action=\"#\"\n        className={`popup__form popup__form_${props.name}`}\n        name={`${props.name}-form`}\n        noValidate\n        onSubmit={props.onSubmit}\n      >\n        <h2 className=\"popup__title\">{props.title}</h2>\n        {props.children}\n        <button\n          className={`popup__close popup__close_${props.name}`}\n          onClick={onClose}\n          type=\"button\"\n          aria-label=\"Закрыть форму\">\n        </button>\n      </form>\n    </section>\n  )\n}\n\nexport default PopupWithForm","import PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup({ card, onClose, onDeleteCard }) {\n  return (\n    <PopupWithForm\n      name=\"delete\"\n      title=\"Вы уверены?\"\n      isOpen={card}\n      onClose={onClose}\n      onSubmit={onDeleteCard.bind(null, card)}\n    >\n      <button className=\"popup__submit\" type=\"submit\" name=\"popup-submit\">Да</button>\n    </PopupWithForm>\n  )\n}\nexport default DeleteCardPopup","import PopupWithForm from './PopupWithForm';\nimport { useContext, useState, useEffect } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [validDescription, setValidDescription] = useState(true);\n  const [validName, setValidName] = useState(true);\n  const [valid, setValid] = useState(false);\n  const [isChange, setIsChange] = useState(false);\n  const [validMessageName, setValidMessageName] = useState('');\n  const [validMessageDescription, setValidMessageDescription] = useState('');\n  \n  useEffect(() => {\n    setName(`${currentUser.name}`);\n    setDescription(`${currentUser.about}`);\n    setValid(false);\n    setIsChange(false);\n    setValidName(true);\n    setValidDescription(true);\n    setValidMessageName('');\n    setValidMessageDescription('');\n  }, [currentUser, isOpen])\n\n  useEffect(() => {\n    setValid(validName && validDescription)\n  }, [validName, validDescription, isChange])\n\n  function onChangeName(e) {\n    setName(e.target.value)\n    setValidName(e.target.validity.valid)\n    setIsChange(true);\n    setValidMessageName(e.target.validationMessage || '')\n  }\n\n  function onChangeDescription(e) {\n    setDescription(e.target.value)\n    setValidDescription(e.target.validity.valid);\n    setIsChange(true);\n    setValidMessageDescription(e.target.validationMessage)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input type=\"text\"\n        name=\"popup-name\"\n        className=\"popup__text-input popup__text-input_name\"\n        maxLength=\"40\"\n        minLength=\"2\"\n        required\n        id=\"profile-name\"\n        placeholder=\"Имя\"\n        value={name}\n        onChange={onChangeName} />\n      <span className=\"popup__error\" id=\"profile-name-error\">{validMessageName}</span>\n      <input type=\"text\"\n        name=\"popup-description\"\n        className=\"popup__text-input popup__text-input_description\"\n        maxLength=\"200\"\n        minLength=\"2\"\n        required\n        id=\"profile-description\"\n        placeholder=\"Вид деятельности\"\n        value={description}\n        onChange={onChangeDescription} />\n      <span className=\"popup__error\" id=\"profile-description-error\">{validMessageDescription}</span>\n      <button\n        className={`popup__submit ${valid ? '' : 'popup__submit_disabled'}`}\n        type=\"submit\"\n        name=\"popup-submit\"\n        disabled={!valid}\n      >Сохранить</button>\n    </PopupWithForm>\n  )\n}\nexport default EditProfilePopup","import PopupWithForm from './PopupWithForm';\nimport { useState, useEffect } from \"react\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar}) {\n  const [valid, setValid] = useState(false);\n  const [validMessage, setValidMessage] = useState('');\n  const [link, setLink] = useState('')\n\n  useEffect(()=>{\n    setValid(false);\n    setLink('');\n    setValidMessage('');\n  }, [isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log(link);\n    onUpdateAvatar(link);\n  }\n\n  function onChange(e) {\n    setLink(e.target.value)\n    setValid(e.target.validity.valid);\n    setValidMessage(e.target.validationMessage);\n  }\n\n  return (\n    <PopupWithForm\n          name=\"add-avatar\"\n          title=\"Обновить аватар\"\n          isOpen={isOpen}\n          onClose={onClose}\n          onSubmit={handleSubmit}\n        >\n          <input type=\"url\"\n            required\n            name=\"avatar-link\"\n            className=\"popup__text-input popup__text-input_place-link\"\n            placeholder=\"Ссылка на аватар\"\n            id=\"avatar-link\"\n            value={link}\n            onChange={onChange} />\n          <span className=\"popup__error\" id=\"avatar-link-error\">{validMessage}</span>\n          <button\n            className={`popup__submit ${valid ? '' : 'popup__submit_disabled'}`}\n            type=\"submit\"\n            name=\"popup-submit\"\n            disabled={!valid}\n          >Сохранить</button>\n        </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup","import PopupWithForm from './PopupWithForm';\nimport { useState, useEffect } from \"react\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = useState('')\n  const [link, setLink] = useState('')\n  const [validLink, setValidLink] = useState(false);\n  const [validName, setValidName] = useState(false);\n  const [valid, setValid] = useState(false);\n  const [validMessageName, setValidMessageName] = useState('');\n  const [validMessageLink, setValidMessageLink] = useState('');\n  \n  useEffect(() => {\n    setName('')\n    setLink('')\n    setValidName(false);\n    setValidLink(false);\n    setValidMessageName('');\n    setValidMessageLink('');\n  }, [isOpen])\n\n  useEffect(() => {\n    setValid(validName && validLink)\n  }, [validName, validLink])\n\n  function onChangeName(e) {\n    setName(e.target.value)\n    setValidName(e.target.validity.valid)\n    setValidMessageName(e.target.validationMessage)\n  }\n  function onChangeLink(e) {\n    setLink(e.target.value)\n    setValidLink(e.target.validity.valid);\n    setValidMessageLink(e.target.validationMessage)\n  }\n\n  function onSubmit (e) {\n    e.preventDefault();\n    onAddPlace({\n      name,\n      link\n    })\n  }\n\n  return (\n    <PopupWithForm\n          name=\"new-place\"\n          title=\"Новое место\"\n          isOpen={isOpen}\n          onClose={onClose}\n          onSubmit={onSubmit}\n        >\n          <input type=\"text\"\n            name=\"popup-name\"\n            className=\"popup__text-input popup__text-input_place-name\"\n            maxLength=\"30\"\n            minLength=\"2\"\n            required\n            placeholder=\"Название\"\n            id=\"place-name\"\n            value={name}\n            onChange={onChangeName} />\n          <span className=\"popup__error popup__error_show\" id=\"place-name-error\">{validMessageName}</span>\n          <input type=\"url\"\n            required\n            name=\"popup-Link\"\n            className=\"popup__text-input popup__text-input_place-link\"\n            placeholder=\"Ссылка на картинку\"\n            id=\"place-Link\"\n            value={link}\n            onChange={onChangeLink} />\n          <span className=\"popup__error\" id=\"place-Link-error\">{validMessageLink}</span>\n          <button\n            className={`popup__submit ${valid ? '' : 'popup__submit_disabled'}`}\n            type=\"submit\"\n            name=\"popup-submit\"\n            disabled={!valid}\n          >Создать</button>\n        </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup","import React from 'react';\n\nfunction ImagePopup (props) {\n  const [card, onClose] = [props.card, props.onClose];\n\n  React.useEffect(() => {\n    if (!card) return;\n    const handleEscapeClose = (event) => {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscapeClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose);\n    };\n  }, [card, onClose]);\n\n  return (\n    <section \n      className={`popup popup_image ${card ? 'popup_show' : ''}`}\n      onClick={e => e.target.classList.contains('popup') && onClose()}\n    >\n        <div className=\"popup__container\">\n          <img src={card ? card.link : '#'} alt=\"Фото места\" className=\"popup__image\" />\n          <h2 className=\"popup__image-title\">{card ? card.name : ''}</h2>\n          <button \n            className=\"popup__close popup__close_image\" \n            type=\"button\" \n            aria-label=\"Закрыть фото\"\n            onClick={onClose}\n          ></button>\n        </div>\n      </section>\n  )\n}\n\nexport default ImagePopup","class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _getResponseData(res) {\n      if (res.ok) return res.json()\n      return Promise.reject(new Error(`Ошибка: ${res.status}`))\n  }\n\n  getUserData() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers\n    })\n      .then(res => {\n        return this._getResponseData(res)\n      })\n  }\n\n  setUserData(data) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n      .then(res => {\n        return this._getResponseData(res)\n      })\n  }\n\n  getInitialCards () {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers\n    })\n      .then(res => {\n        return this._getResponseData(res)\n      })\n  }\n\n  addCard(data) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n      .then(res => {\n        return this._getResponseData(res)\n      })\n  }\n\n  deleteCard(data) {\n    return fetch(`${this._baseUrl}cards/${data._id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(res => {\n        return this._getResponseData(res)\n      })\n  }\n\n  switchLike(card, method) {\n    return fetch(`${this._baseUrl}cards/likes/${card._id}`, {\n      method: method,\n      headers: this._headers\n    })\n      .then(res => {\n        return this._getResponseData(res)\n      })\n  }\n\n  addAvatar(data) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        \"avatar\": data\n      })\n    })\n      .then(res => {\n        return this._getResponseData(res)\n      })\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19/',\n  headers: {\n    authorization: '7a0583fa-0284-4573-a326-4d7fa2ed6e73',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default api","import { React, useEffect, useState } from 'react';\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport DeleteCardPopup from './DeleteCardPopup'\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from './ImagePopup'\nimport api from '../utils/api';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeleteCardPopup, setIsDeleteCardPopup] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    api.getUserData()\n      .then(setCurrentUser)\n      .catch(e => console.error(e.message))\n    api.getInitialCards()\n      .then(setCards)\n      .catch(e => console.error(e.message))\n  },[]);\n  //handle карточек\n  function handleCardLike (card, isLiked) {\n    const method = isLiked ? 'DELETE' : 'PUT';\n    api.switchLike(card, method)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch(e => console.error(e.message))\n  }\n\n  \n  //Открываем/закрываем попапы\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n  function handleCardDelete(card) {\n    setIsDeleteCardPopup(card)\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(false);\n    setIsDeleteCardPopup(false);\n  }\n\n  //Обработка событий в попапах\n  function handleUpdateUser(data) {\n    api.setUserData(data)\n      .then(userData => {\n        setCurrentUser(userData);\n        setIsEditProfilePopupOpen(false);\n      })\n      .catch(e => console.error(e.message))\n  }\n\n  function handleUpdateAvatar(url) {\n    api.addAvatar(url)\n      .then(userData => {\n        setCurrentUser(userData);\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch(e => console.error(e.message))\n  }\n\n  function handleAddPlace (data) {\n    api.addCard(data)\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        setIsAddPlacePopupOpen(false);\n      })\n      .catch(e => console.error(e.message))\n  }\n\n  function handleCardDeleteSubmit (card, evt) {\n    evt.preventDefault();\n    api.deleteCard(card)\n    .then(() => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n      setIsDeleteCardPopup(false);\n    })\n    .catch(e => console.error(e.message))\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"container\">\n          <Header />\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Footer />\n        </div>\n\n        <ImagePopup\n          onClose={closeAllPopups}\n          card={selectedCard}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n        />\n\n        <EditAvatarPopup \n          isOpen={isEditAvatarPopupOpen} \n          onClose={closeAllPopups} \n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <DeleteCardPopup\n          card={isDeleteCardPopup} \n          onClose={closeAllPopups}\n          onDeleteCard={handleCardDeleteSubmit}\n        />\n        \n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}